#!/bin/bash

# Manual Validation Guide for Ship Navigation and Orientation
# 
# This guide provides step-by-step manual verification of ship movement and orientation
# when the automated e2e test environment cannot be set up.

echo "ðŸš€ Manual Validation Guide for Ship Navigation and Orientation"
echo "============================================================="
echo ""
echo "1. SETUP:"
echo "   - Open browser and go to http://localhost:5173"
echo "   - Click 'ðŸ”§ Debug Start' button to enter debug mode"
echo "   - Wait for game canvas to load (about 3-5 seconds)"
echo ""
echo "2. OPEN BROWSER DEVELOPER TOOLS:"
echo "   - Press F12 to open Developer Tools"
echo "   - Go to Console tab"
echo "   - Verify you see: 'DEBUG: Game engine exposed to window.gameEngine for e2e testing'"
echo ""
echo "3. TEST BASIC SHIP POSITION ACCESS:"
echo "   - In console, run: window.gameEngine.getSceneManager().getPlayerShipActor()?.position"
echo "   - Should return object with x, y coordinates"
echo ""
echo "4. TEST SHIP MOVEMENT AND ORIENTATION:"
echo "   - Run this in console to get initial position:"
echo "     const getShipInfo = () => {"
echo "       const ship = window.gameEngine.getSceneManager().getPlayerShipActor();"
echo "       return ship ? { pos: ship.position, rotation: ship.rotation, moving: ship.isMoving() } : null;"
echo "     };"
echo ""
echo "   - Get initial position: getShipInfo()"
echo "   - Right-click somewhere on the game canvas (not on UI panels)"
echo "   - Wait for ship to move (movement takes a few seconds)"
echo "   - Check final position: getShipInfo()"
echo ""
echo "5. VERIFY ORIENTATION:"
echo "   - Calculate expected rotation angle:"
echo "     const calcExpectedAngle = (from, to) => Math.atan2(to.y - from.y, to.x - from.x);"
echo "   - Compare with actual ship rotation (should be within ~10 degrees)"
echo ""
echo "6. TEST MULTIPLE MOVEMENTS:"
echo "   - Right-click at different positions (upper-left, lower-right, center)"
echo "   - Each time verify ship moves to clicked coordinates"
echo "   - Each time verify ship rotates to face movement direction"
echo ""
echo "7. EXPECTED BEHAVIOR:"
echo "   - Ship should smoothly move to right-clicked coordinates"
echo "   - Ship should rotate to face the direction it's moving"
echo "   - Ship rotation should match Math.atan2(deltaY, deltaX) angle"
echo "   - Movement should complete within reasonable time (3-5 seconds)"
echo ""
echo "8. TROUBLESHOOTING:"
echo "   - If window.gameEngine is undefined: game not in debug mode or not loaded"
echo "   - If getPlayerShipActor() returns null: ship actor not created yet"
echo "   - If right-click doesn't move ship: check console for errors"
echo ""
echo "âœ… If all steps work correctly, the ship navigation and orientation system is functional!"