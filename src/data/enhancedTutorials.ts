/**
 * Enhanced Tutorial Content Manager
 * 
 * This file contains comprehensive tutorial content for Phase 7 implementation
 * Provides detailed, step-by-step guidance for all major game systems
 */

import { TutorialFlow } from '../types/tutorial';

/**
 * Enhanced Basic Tutorial Flow - Complete beginner experience
 */
export const createEnhancedBasicTutorial = (): TutorialFlow => ({
  id: 'enhanced-basics',
  name: 'üöÄ Space Trading Fundamentals',
  description: 'Complete guide for new space traders - covers movement, trading, and core mechanics',
  category: 'basics',
  priority: 1,
  rewards: [
    {
      type: 'credits',
      amount: 1000,
      description: 'Starter bonus: 1,000 credits'
    },
    {
      type: 'achievement',
      amount: 1,
      description: 'Tutorial Graduate achievement'
    }
  ],
  steps: [
    {
      id: 'welcome-enhanced',
      title: 'Welcome to Your Trading Career!',
      description: 'Congratulations on starting your journey as a space trader! In this universe, you\'ll buy low, sell high, upgrade your ships, and build your reputation across the galaxy.',
      optional: false,
      skipable: false
    },
    {
      id: 'understand-ui',
      title: 'Understanding Your Interface',
      description: 'Your interface has several key areas:\n‚Ä¢ Game view (center) - shows your ship and surroundings\n‚Ä¢ Control buttons (bottom) - access different game systems\n‚Ä¢ Status displays - show your resources and ship status',
      target: '.game-canvas',
      position: 'bottom'
    },
    {
      id: 'navigation-deep',
      title: 'Navigation - Finding Your Way',
      description: 'Navigation is crucial for space trading. Here you can:\n‚Ä¢ View nearby stations and their services\n‚Ä¢ Plan efficient trade routes\n‚Ä¢ Track fuel consumption and travel times\n‚Ä¢ Identify profitable trading opportunities',
      target: 'button:contains("Navigation")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'market-fundamentals',
      title: 'Markets - The Heart of Trading',
      description: 'Markets are where you make money! Key concepts:\n‚Ä¢ Buy commodities when prices are low\n‚Ä¢ Sell them where prices are high\n‚Ä¢ Different stations have different needs\n‚Ä¢ Supply and demand affect prices constantly',
      target: 'button:contains("Market")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'cargo-basics',
      title: 'Managing Your Cargo',
      description: 'Your ship has limited cargo space. Learn to:\n‚Ä¢ Check available cargo capacity\n‚Ä¢ Load and unload efficiently\n‚Ä¢ Prioritize high-value goods\n‚Ä¢ Manage cargo between multiple ships',
      target: 'button:contains("Inventory")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'ship-systems',
      title: 'Ship Management Essentials',
      description: 'Your ship is your lifeline. Monitor:\n‚Ä¢ Fuel levels for travel\n‚Ä¢ Cargo capacity and current load\n‚Ä¢ Ship condition and maintenance needs\n‚Ä¢ Equipment and upgrades available',
      target: 'button:contains("Ship")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'character-growth',
      title: 'Character Development',
      description: 'As you trade and explore, you gain experience and skills:\n‚Ä¢ Trading skills improve profit margins\n‚Ä¢ Navigation skills reduce travel time\n‚Ä¢ Social skills help with contracts and reputation\n‚Ä¢ Technical skills reduce maintenance costs',
      target: 'button:contains("Character")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'first-trade',
      title: 'Your First Trade Mission',
      description: 'Ready for your first trade? Here\'s how:\n1. Check Navigation for nearby stations\n2. Look at Market prices for profitable goods\n3. Buy low-priced commodities\n4. Travel to stations that need those goods\n5. Sell for profit and repeat!',
      optional: false,
      skipable: false
    },
    {
      id: 'basics-complete',
      title: 'Tutorial Complete!',
      description: 'Congratulations! You\'ve learned the fundamentals of space trading. Continue practicing these basics, and when ready, try the specialized tutorials for advanced features like combat, investment, and faction relationships.',
      optional: false,
      skipable: false
    }
  ]
});

/**
 * Advanced Navigation Tutorial Flow
 */
export const createAdvancedNavigationTutorial = (): TutorialFlow => ({
  id: 'advanced-navigation',
  name: 'üó∫Ô∏è Master Navigator',
  description: 'Advanced navigation techniques for efficient trading routes and exploration',
  category: 'navigation',
  priority: 2,
  unlockConditions: ['enhanced-basics'],
  rewards: [
    {
      type: 'experience',
      amount: 100,
      description: 'Navigation experience bonus'
    }
  ],
  steps: [
    {
      id: 'route-planning',
      title: 'Efficient Route Planning',
      description: 'Learn to plan multi-stop trading routes that maximize profit while minimizing fuel costs. Consider distance, fuel consumption, and market demands.',
      target: 'button:contains("Routes")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'fuel-optimization',
      title: 'Fuel Management',
      description: 'Fuel is a major expense. Learn to:\n‚Ä¢ Calculate fuel costs for routes\n‚Ä¢ Find the best fuel prices\n‚Ä¢ Plan refueling stops efficiently\n‚Ä¢ Upgrade engines for better fuel economy',
      optional: false
    },
    {
      id: 'market-discovery',
      title: 'Discovering New Markets',
      description: 'Explore unknown systems to find:\n‚Ä¢ Unexploited trading opportunities\n‚Ä¢ Rare commodities and high prices\n‚Ä¢ New stations and services\n‚Ä¢ Secret routes with less competition',
      optional: false
    },
    {
      id: 'navigation-tools',
      title: 'Navigation Tools Mastery',
      description: 'Use advanced navigation features:\n‚Ä¢ Filters to find specific station types\n‚Ä¢ Distance and profit calculators\n‚Ä¢ Route optimization algorithms\n‚Ä¢ Market price tracking over time',
      target: 'button:contains("Navigation")',
      position: 'bottom',
      action: 'click'
    }
  ]
});

/**
 * Character Relationships and Social Systems Tutorial
 */
export const createSocialSystemsTutorial = (): TutorialFlow => ({
  id: 'social-systems',
  name: 'ü§ù Galactic Diplomacy',
  description: 'Master faction relationships, contacts, and social interactions for better opportunities',
  category: 'character',
  priority: 3,
  unlockConditions: ['enhanced-basics'],
  rewards: [
    {
      type: 'experience',
      amount: 150,
      description: 'Social skills experience'
    }
  ],
  steps: [
    {
      id: 'faction-intro',
      title: 'Understanding Factions',
      description: 'The galaxy is divided into different factions:\n‚Ä¢ Each has unique goals and values\n‚Ä¢ Your reputation affects available missions\n‚Ä¢ Some factions conflict with others\n‚Ä¢ Higher reputation unlocks exclusive content',
      target: 'button:contains("Factions")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'building-contacts',
      title: 'Building Your Contact Network',
      description: 'Contacts provide valuable opportunities:\n‚Ä¢ Special trading contracts\n‚Ä¢ Market information\n‚Ä¢ Equipment access\n‚Ä¢ Mission opportunities\n\nInteract regularly to build relationships.',
      target: 'button:contains("Contacts")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'reputation-management',
      title: 'Managing Your Reputation',
      description: 'Your actions affect how factions view you:\n‚Ä¢ Completing missions builds trust\n‚Ä¢ Trading with enemies can damage relationships\n‚Ä¢ Some choices have moral implications\n‚Ä¢ Balance relationships carefully',
      optional: false
    },
    {
      id: 'social-benefits',
      title: 'Benefits of Good Relationships',
      description: 'Strong relationships provide:\n‚Ä¢ Better trading prices\n‚Ä¢ Access to exclusive equipment\n‚Ä¢ Priority mission assignments\n‚Ä¢ Protection in dangerous areas\n‚Ä¢ Information about profitable opportunities',
      optional: false
    }
  ]
});

/**
 * Combat and Security Tutorial
 */
export const createCombatTutorial = (): TutorialFlow => ({
  id: 'combat-security',
  name: '‚öîÔ∏è Combat and Security',
  description: 'Learn combat basics, security systems, and how to handle dangerous situations',
  category: 'combat',
  priority: 4,
  unlockConditions: ['enhanced-basics'],
  rewards: [
    {
      type: 'item',
      amount: 1,
      description: 'Basic weapon upgrade'
    }
  ],
  steps: [
    {
      id: 'security-overview',
      title: 'Understanding Security',
      description: 'Different areas have different security levels:\n‚Ä¢ High-security systems are safer but more regulated\n‚Ä¢ Low-security areas offer better profits but more risk\n‚Ä¢ Your actions affect your legal standing\n‚Ä¢ Security forces respond to crimes',
      target: 'button:contains("Security")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'combat-basics',
      title: 'Basic Combat Mechanics',
      description: 'When diplomacy fails, be prepared to fight:\n‚Ä¢ Different weapon types have different effects\n‚Ä¢ Shields protect against damage\n‚Ä¢ Ship size affects maneuverability\n‚Ä¢ Retreat is often the best option',
      target: 'button:contains("Combat")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'avoiding-trouble',
      title: 'Avoiding Dangerous Situations',
      description: 'Prevention is better than cure:\n‚Ä¢ Check security reports before traveling\n‚Ä¢ Avoid carrying valuable cargo in dangerous areas\n‚Ä¢ Build relationships with security forces\n‚Ä¢ Plan escape routes for emergencies',
      optional: false
    },
    {
      id: 'legal-trading',
      title: 'Legal Trading Practices',
      description: 'Stay on the right side of the law:\n‚Ä¢ Some commodities are restricted or illegal\n‚Ä¢ Weapon licenses are required in many systems\n‚Ä¢ Smuggling is profitable but very risky\n‚Ä¢ Legal troubles can ruin your reputation',
      optional: false
    }
  ]
});

/**
 * Investment and Advanced Economy Tutorial
 */
export const createInvestmentTutorial = (): TutorialFlow => ({
  id: 'advanced-economy',
  name: 'üí∞ Investment and Finance',
  description: 'Advanced economic systems: investments, market manipulation, and long-term wealth building',
  category: 'investment',
  priority: 5,
  unlockConditions: ['enhanced-basics', 'advanced-navigation'],
  rewards: [
    {
      type: 'credits',
      amount: 5000,
      description: 'Investment seed money'
    }
  ],
  steps: [
    {
      id: 'investment-basics',
      title: 'Understanding Investments',
      description: 'Beyond trading, you can invest in:\n‚Ä¢ Station construction and upgrades\n‚Ä¢ Mining operations and factories\n‚Ä¢ Fleet expansion and ship upgrades\n‚Ä¢ Research and development projects\n\nInvestments provide passive income over time.',
      target: 'button:contains("Investment")',
      position: 'bottom',
      action: 'click'
    },
    {
      id: 'market-analysis',
      title: 'Market Analysis and Prediction',
      description: 'Successful investors study market trends:\n‚Ä¢ Track price histories and patterns\n‚Ä¢ Understand supply and demand cycles\n‚Ä¢ Identify emerging market opportunities\n‚Ä¢ Time your investments for maximum return',
      optional: false
    },
    {
      id: 'risk-management',
      title: 'Investment Risk Management',
      description: 'Protect your wealth through diversification:\n‚Ä¢ Don\'t put all money in one investment\n‚Ä¢ Balance high-risk/high-reward opportunities\n‚Ä¢ Keep emergency funds for unexpected events\n‚Ä¢ Monitor investments regularly',
      optional: false
    },
    {
      id: 'passive-income',
      title: 'Building Passive Income Streams',
      description: 'Create income that works while you sleep:\n‚Ä¢ Station ownership provides rent income\n‚Ä¢ Fleet management generates trading profits\n‚Ä¢ Research patents provide royalties\n‚Ä¢ Smart investments compound over time',
      optional: false
    }
  ]
});

/**
 * Endgame Content Tutorial
 */
export const createEndgameTutorial = (): TutorialFlow => ({
  id: 'endgame-mastery',
  name: 'üëë Master Trader',
  description: 'Advanced strategies for experienced players: empire building, faction leadership, and galactic influence',
  category: 'advanced',
  priority: 10,
  unlockConditions: ['enhanced-basics', 'advanced-navigation', 'social-systems', 'combat-security', 'advanced-economy'],
  rewards: [
    {
      type: 'achievement',
      amount: 1,
      description: 'Master Trader title'
    },
    {
      type: 'credits',
      amount: 50000,
      description: 'Master Trader bonus'
    }
  ],
  steps: [
    {
      id: 'empire-building',
      title: 'Building Your Trading Empire',
      description: 'Transition from single-ship trading to empire management:\n‚Ä¢ Own multiple ships and trading routes\n‚Ä¢ Establish permanent trading posts\n‚Ä¢ Build supply chain networks\n‚Ä¢ Become a major economic force',
      optional: false
    },
    {
      id: 'faction-leadership',
      title: 'Faction Leadership and Politics',
      description: 'Influence the galaxy through politics:\n‚Ä¢ Gain leadership positions in factions\n‚Ä¢ Shape faction policies and goals\n‚Ä¢ Mediate conflicts between groups\n‚Ä¢ Drive major storyline developments',
      optional: false
    },
    {
      id: 'galactic-influence',
      title: 'Shaping the Galaxy',
      description: 'Your choices affect the entire universe:\n‚Ä¢ Economic policies you support affect all traders\n‚Ä¢ Military actions can start or end conflicts\n‚Ä¢ Research funding drives technological progress\n‚Ä¢ Your legacy shapes the future of space trading',
      optional: false
    },
    {
      id: 'mastery-complete',
      title: 'Master Trader Status Achieved',
      description: 'Congratulations! You\'ve mastered all aspects of space trading. You now have the knowledge and experience to:\n‚Ä¢ Dominate any market\n‚Ä¢ Navigate complex political situations\n‚Ä¢ Build lasting business empires\n‚Ä¢ Shape the future of the galaxy\n\nThe universe is yours to command!',
      optional: false,
      skipable: false
    }
  ]
});

// Export all tutorial flows for use in TutorialManager
export const ENHANCED_TUTORIAL_FLOWS = [
  createEnhancedBasicTutorial(),
  createAdvancedNavigationTutorial(),
  createSocialSystemsTutorial(),
  createCombatTutorial(),
  createInvestmentTutorial(),
  createEndgameTutorial()
];